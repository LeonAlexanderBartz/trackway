{% extends "AppBundle::layout.html.twig" %}

{% block body %}
    <body class="skin-red sidebar-mini {% block class %}{% endblock class %}">
    <div id="wrapper">
        <header class="main-header">
            <a class="logo" href="{{ path('dashboard_index') }}">{{ 'template.title'|trans }}</a>
            <nav class="navbar navbar-static-top" role="navigation">
                {% block navbar %}
                    <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                        <span class="sr-only">{{ 'template.toggleNavigation'|trans }}</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    {{ knp_menu_render('appbundle_navbar_menu', {'template': 'AppBundle:Menu/Navbar:list.html.twig'}) }}
                {% endblock %}
            </nav>
        </header>
        {% block sidebar %}
            {{ knp_menu_render('appbundle_sidebar_menu', {'template': 'AppBundle:Menu/Sidebar:list.html.twig'}) }}
        {% endblock %}
        <div class="content-wrapper">
            <section class="content-header">
                {% block title %}{% endblock %}
                {% block breadcrumb %}
                    {{ knp_menu_render('appbundle_sidebar_menu', {'template': 'AppBundle:Menu/Breadcrumb:list.html.twig'}) }}
                {% endblock %}
            </section>
            {% if app.session.flashBag.peekAll|length > 0 %}
                <div class="pad margin no-print">
                    {% set messageTypeClasses = { 'success': 'alert-success', 'info': 'alert-info', 'warning': 'alert-warning', 'error': 'alert-danger'} %}
                    {% for type, messages in app.session.flashBag.all %}
                        {% for message in messages %}
                            <div class="alert{% if messageTypeClasses[type] is defined %} {{ messageTypeClasses[type] }}{% endif %} alert-dismissable" role="alert">
                                <h4><i class="icon fa fa-ban"></i> {{ 'template.alert'|trans }}!</h4>
                                {{ message|trans }}
                            </div>
                        {% endfor %}
                    {% endfor %}
                </div>
            {% endif %}
            <section class="content">
                <div class="box box-default">
                    {% block content %}{% endblock %}
                </div>
            </section>
        </div>
        <footer class="main-footer">
            <div class="pull-right hidden-xs">
                <b>{{ 'template.version'|trans }}</b> 0.3
            </div>
            <strong>{{ 'template.forkIt'|trans({'%link%': 'https://github.com/MewesK/trackway'})|raw }}</strong>
        </footer>
    </div>
    {% block javascripts %}<script src="{{ asset('js/combined.js') }}"></script>{% endblock %}
    </body>
{% endblock %}
